<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | PerfumeStore</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <link rel="stylesheet" href="style.css"> 
</head>

<body class="admin-body">
    
    <aside class="sidebar">
        <div class="sidebar-header text-center py-4">
            <a href="index.html">
                <img src="pic/logo4.png" alt="Logo" style="height: 80px; filter: invert(1) brightness(2);">
            </a>
        </div>

        <ul class="sidebar-menu list-unstyled">
            <li class="sidebar-item active" data-section="tong-quan">
                <a href="#" class="sidebar-link">
                    <i class="bi bi-grid-1x2-fill me-3"></i> Tổng quan
                </a>
            </li>
            <li class="sidebar-item" data-section="san-pham">
                <a href="#" class="sidebar-link">
                    <i class="bi bi-box-seam-fill me-3"></i> Sản phẩm
                </a>
            </li>
            <li class="sidebar-item" data-section="khach-hang">
                <a href="#" class="sidebar-link">
                    <i class="bi bi-people-fill me-3"></i> Khách hàng
                </a>
            </li>
            <li class="sidebar-item" data-section="don-hang">
                <a href="#" class="sidebar-link">
                    <i class="bi bi-cart-check-fill me-3"></i> Đơn hàng
                </a>
            </li>
            <li class="sidebar-item" data-section="thong-ke">
                <a href="#" class="sidebar-link">
                    <i class="bi bi-bar-chart-fill me-3"></i> Thống kê
                </a>
            </li>
        </ul>

        <div class="sidebar-footer mt-auto pb-4 text-center">
            <a href="index.html" class="btn btn-outline-light btn-sm mb-3 w-75 rounded-pill">
                <i class="bi bi-arrow-left"></i> Về trang chủ
            </a>
            <button id="logout-acc" class="btn btn-danger btn-sm w-75 rounded-pill">
                <i class="bi bi-box-arrow-right"></i> Đăng xuất
            </button>
        </div>
    </aside>

    <main class="main-content">
        
        <div class="d-lg-none p-3 bg-white shadow-sm mb-4 d-flex justify-content-between align-items-center rounded-3">
            <span class="fw-bold text-success">MENU ADMIN</span>
            <button class="btn btn-dark btn-sm menu-toggle"><i class="bi bi-list fs-4"></i></button>
        </div>

        <section id="tong-quan" class="section active">
            <h2 class="section-title">Tổng quan cửa hàng</h2>
            
            <div class="row g-4 mb-5">
                <div class="col-md-4">
                    <div class="stats-card bg-white p-4 rounded-4 shadow-sm d-flex align-items-center border-0">
                        <div class="icon-box bg-primary-subtle text-primary rounded-circle p-3 me-3">
                            <i class="bi bi-people fs-3"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small text-uppercase fw-bold">Khách hàng</p>
                            <h3 class="fw-bold mb-0" id="amount-user">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stats-card bg-white p-4 rounded-4 shadow-sm d-flex align-items-center border-0">
                        <div class="icon-box bg-success-subtle text-success rounded-circle p-3 me-3">
                            <i class="bi bi-box-seam fs-3"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small text-uppercase fw-bold">Sản phẩm</p>
                            <h3 class="fw-bold mb-0" id="amount-product">0</h3>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stats-card bg-white p-4 rounded-4 shadow-sm d-flex align-items-center border-0">
                        <div class="icon-box bg-warning-subtle text-warning rounded-circle p-3 me-3">
                            <i class="bi bi-currency-dollar fs-3"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small text-uppercase fw-bold">Doanh thu</p>
                            <h3 class="fw-bold mb-0 text-danger" id="doanh-thu">0 đ</h3>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="welcome-banner bg-white p-5 rounded-4 shadow-sm text-center border-0">
                <img src="pic/logo4.png" style="height: 80px; opacity: 0.7;" alt="Logo mờ">
                <h4 class="mt-3 text-dark fw-bold">Chào mừng trở lại trang quản trị!</h4>
                <p class="text-muted">Hôm nay là một ngày tuyệt vời để kinh doanh.</p>
            </div>
        </section>

        <section id="san-pham" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="section-title mb-0">Danh sách Sản phẩm</h2>
                <button class="btn btn-dark rounded-pill px-4 shadow-sm" id="btn-add-product">
                    <i class="bi bi-plus-lg me-2"></i>Thêm mới
                </button>
            </div>
            
            <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
                <div class="card-body p-0">
                    <div id="show-product" class="table-responsive">
                        </div>
                </div>
            </div>
        </section>

        <section id="khach-hang" class="section">
            <h2 class="section-title mb-4">Danh sách Khách hàng</h2>
            <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead class="table-light">
                                <tr><th>STT</th><th>Họ tên</th><th>Email</th><th>Ngày tham gia</th><th>Trạng thái</th></tr>
                            </thead>
                            <tbody id="show-user"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="don-hang" class="section">
            <h2 class="section-title mb-4">Quản lý Đơn hàng</h2>
            <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead class="table-light">
                                <tr><th>Mã đơn</th><th>Khách hàng</th><th>Ngày đặt</th><th>Tổng tiền</th><th>Trạng thái</th><th>Thao tác</th></tr>
                            </thead>
                            <tbody id="showOrder"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="thong-ke" class="section">
            <h2 class="section-title mb-4">Báo cáo Doanh thu</h2>
            <div class="row g-4 mb-4">
                <div class="col-md-4"><div class="p-4 bg-white rounded-4 shadow-sm text-center"><h6>SP Bán ra</h6><h3 class="fw-bold" id="quantity-product">0</h3></div></div>
                <div class="col-md-4"><div class="p-4 bg-white rounded-4 shadow-sm text-center"><h6>Tổng lượt bán</h6><h3 class="fw-bold" id="quantity-order">0</h3></div></div>
                <div class="col-md-4"><div class="p-4 bg-white rounded-4 shadow-sm text-center"><h6>Tổng thu</h6><h3 class="fw-bold text-success" id="quantity-sale">0</h3></div></div>
            </div>
            <div class="card border-0 shadow-sm rounded-4">
                <div class="card-header bg-white border-0 py-3">
                    <h5 class="mb-0 fw-bold">Top sản phẩm bán chạy</h5>
                </div>
                <div class="card-body p-0">
                    <table class="table table-hover mb-0">
                        <thead class="table-light"><tr><th>Top</th><th>Sản phẩm</th><th>Số lượng</th><th>Doanh thu</th></tr></thead>
                        <tbody id="showTk"></tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <div class="modal fade" id="addProductModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4 border-0 shadow-lg">
          <div class="modal-header border-bottom-0 pb-0">
            <h5 class="modal-title fw-bold">Thông tin sản phẩm</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          
          <div class="modal-body pt-4">
            <form id="form-add-product">
              <input type="hidden" id="edit-product-id">

              <div class="mb-3">
                <label class="form-label fw-bold small text-uppercase text-muted">Tên sản phẩm</label>
                <input type="text" class="form-control bg-light border-0 py-2" id="new-name" placeholder="Ví dụ: Dior Sauvage">
              </div>
              
              <div class="mb-3">
                <label class="form-label fw-bold small text-uppercase text-muted">Hình ảnh</label>
                <input type="file" class="form-control bg-light border-0" id="new-image-file" accept="image/*">
                <div class="mt-3 text-center p-3 bg-light rounded-3 border border-dashed" id="preview-box" style="display:none;">
                    <img id="preview-img" src="" style="max-height: 150px; border-radius: 8px; object-fit: contain;">
                </div>
              </div>

              <div class="row">
                <div class="col-6 mb-3">
                  <label class="form-label fw-bold small text-uppercase text-muted">Thương hiệu</label>
                  <select class="form-select bg-light border-0 py-2" id="new-brand">
                    <option value="dior">Dior</option>
                    <option value="chanel">Chanel</option>
                    <option value="gucci">Gucci</option>
                    <option value="versace">Versace</option>
                    <option value="ysl">YSL</option>
                    <option value="tomford">Tom Ford</option>
                    <option value="creed">Creed</option>
                    <option value="armani">Armani</option>
                    <option value="ck">CK</option>
                    <option value="dg">D&G</option>
                  </select>
                </div>
                <div class="col-6 mb-3">
                  <label class="form-label fw-bold small text-uppercase text-muted">Loại</label>
                  <select class="form-select bg-light border-0 py-2" id="new-type">
                    <option value="nam">Nam</option>
                    <option value="nu">Nữ</option>
                    <option value="unisex">Unisex</option>
                  </select>
                </div>
              </div>

              <div class="row">
                 <div class="col-6 mb-3">
                    <label class="form-label fw-bold small text-uppercase text-muted">Dung tích (ml)</label>
                    <input type="number" class="form-control bg-light border-0 py-2" id="new-size" value="100">
                 </div>
                 <div class="col-6 mb-3">
                    <label class="form-label fw-bold small text-uppercase text-muted">Giá bán (VNĐ)</label>
                    <input type="number" class="form-control bg-light border-0 py-2" id="new-price" placeholder="Nhập giá...">
                 </div>
              </div>
              
              <div class="mb-3">
                 <label class="form-label fw-bold small text-uppercase text-muted">Mô tả ngắn</label>
                 <textarea class="form-control bg-light border-0" id="new-short" rows="2" placeholder="Mùi hương như thế nào..."></textarea>
              </div>
            </form>
          </div>
          
          <div class="modal-footer border-top-0 pt-0 pb-4">
            <button type="button" class="btn btn-light rounded-pill px-4" data-bs-dismiss="modal">Hủy</button>
            <button type="button" class="btn btn-dark rounded-pill px-4" id="btn-save-new-product">Lưu sản phẩm</button>
          </div>
        </div>
      </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
    <script src="admin.js"></script>
    
    <script>
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('active');
        });
    </script>
</body>
</html>